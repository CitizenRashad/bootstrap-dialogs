(function(){var t,n,e,o,r,l,a;t=this.jQuery,n=this.Bootstrap||(this.Bootstrap={}),o=13,e=27,l=function(n,e){var o;return o=t('<button type="button" class="btn">').html(n),e&&o.addClass("btn-"+e),o},a=function(n){var e,o,r,a,i,u;for(u=[],a=0,i=n.length;i>a;a++)o=n[a],o instanceof Array&&(r=o[1],o=o[0]),e="string"==typeof o?l(o):t(o),r instanceof Function&&e.click(r),u.push(e);return u},r=n.Dialogs={alert:function(n){var e,a,i,u;return null==n&&(n={}),e={title:"Alert",ok:"Ok",lock:!0,danger:!1},n=t.extend(e,n),a=n.danger?"danger":"primary",i=r.dialog({title:n.title,body:n.body,lock:n.lock,buttons:[[l(n.ok,a),function(){return i.resolve()}]]}),u=function(t){return t.which===o?i.resolve():void 0},t("body").on("keyup",u),i.always(function(){return t("body").off("keyup",u)})},confirm:function(n){var e,a,i,u;return null==n&&(n={}),e={title:"Please confirm",ok:"Ok",cancel:"Cancel",danger:!1},n=t.extend(e,n),a=n.danger?"danger":"primary",i=r.dialog({title:n.title,body:n.body,buttons:[[n.cancel,function(){return i.reject()}],[l(n.ok,a),function(){return i.resolve()}]]}),n["return"]&&(u=function(t){return t.which===o?i.resolve():void 0},t("body").on("keyup",u),i.always(function(){return t("body").off("keyup",u)})),i},dialog:function(n){var o,r,l,i,u,d,c,s;return null==n&&(n={}),c=n.title,l=n.body,i=n.buttons||[],s=[t("<h3>").html(c)],n.lock||(o=t('<button type="button" class="close" data-dismiss="modal"\n  aria-hidden="true">&times;</button>'),s.unshift(o)),r=t('<div class="modal hide fade">').html([t('<div class="modal-header">').html(s),l?t('<div class="modal-body">').html(l):"",t('<div class="modal-footer">').html(a(i))]),d=t.Deferred(),d.el=r[0],d.$el=r,r.on("hidden",function(){return"pending"===d.state()?d.reject():void 0}),n.lock||(u=function(t){return t.which===e?d.reject():void 0}),d.always(function(){return u&&t("body").off("keyup",u),r.modal("hide"),r.remove()}),u&&t("body").on("keyup",u),n.lock?r.modal({backdrop:"static",keyboard:!1}):r.modal({keyboard:!1}),d},prompt:function(n){var e,a,i,u,d,c,s;return null==n&&(n={}),a={title:"Please enter a value",body:"",ok:"Ok",cancel:"Cancel"},n=t.extend(a,n),u=n.danger?"danger":"primary",s=function(){return d.resolve(e.val())},c=function(){return d.reject()},i=function(t){return t.which===o?s():void 0},e=t('<input type="text">'),d=r.dialog({title:n.title,body:[n.body,e],buttons:[[n.cancel,c],[l(n.ok,u),s]]}),t("body").on("keyup",i),d.always(function(){return t("body").off("keyup",i)}),e.focus(),d.$input=e,d}}}).call(this);